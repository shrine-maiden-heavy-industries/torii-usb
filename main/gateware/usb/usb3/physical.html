
<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Physical" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://torii-usb.shmdn.link/gateware/usb/usb3/physical.html" />
<meta property="og:site_name" content="Torii USB" />
<meta property="og:description" content="USB3 Physical-Layer modules Alignment: Code for USB3 physical-layer encoding. Coding: Code for USB3 physical-layer encoding. CTC: Code for handling SKP ordered sets on the transmit and receive path..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://torii-usb.shmdn.link/_images/social_previews/summary_gateware_usb_usb3_physical_7cc00fb4.png" />
<meta property="og:image:alt" content="USB3 Physical-Layer modules Alignment: Code for USB3 physical-layer encoding. Coding: Code for USB3 physical-layer encoding. CTC: Code for handling SKP ordered sets on the transmit and receive path..." />
<meta name="description" content="USB3 Physical-Layer modules Alignment: Code for USB3 physical-layer encoding. Coding: Code for USB3 physical-layer encoding. CTC: Code for handling SKP ordered sets on the transmit and receive path..." />
<meta name="twitter:card" content="summary_large_image" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Protocol" href="protocol.html" /><link rel="prev" title="Link" href="link.html" />
        <link rel="canonical" href="https://torii-usb.shmdn.link/gateware/usb/usb3/physical.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->

<title>Physical - Torii USB 0.8.1.dev44 Documentation</title>

<link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-codeautolink.css?v=b2176991" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/styles.css?v=d73683b3" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #2672a8;
  --color-brand-content: #2672a8;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #85C2FE;
  --color-brand-content: #85C2FE;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #85C2FE;
  --color-brand-content: #85C2FE;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>

<div class="announcement multiver">
  <aside class="announcement-content multiver-content">
    <strong>
    
    This is the bleeding-edge development documentation, for the stable <code>v0.8.0</code> docs <a href="../../../../v0.8.0/gateware/usb/usb3/physical.html">Click Here</a>.
    
    </strong>
  </aside>
</div>
<div class="announcement">
  <aside class="announcement-content">
     This documentation is a work in progress, and you can help us <a href="https://github.com/shrine-maiden-heavy-industries/torii-usb/blob/main/CONTRIBUTING.md">improve it!</a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Torii USB 0.8.1.dev44 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<a class="sidebar-brand" href="../../../index.html">
	<span class="sidebar-brand-text">Torii USB 0.8.1.dev44 Documentation</span>
	
  </a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../features.html">Status &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../migration.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Gateware Library</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Gateware Library</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../interface/index.html">Interface</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Interface</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../interface/pipe.html">PIPE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interface/ulpi.html">ULPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interface/utmi.html">UTMI</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../interface/gateware/index.html">Gateware PHY</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Gateware PHY</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../interface/gateware/phy.html">Gateware PHY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../interface/gateware/receiver.html">Gateware PHY - Receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../interface/gateware/transmitter.html">Gateware PHY - Transmitter</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../interface/serdes/index.html">SerDes PHY</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of SerDes PHY</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../interface/serdes/ecp5.html">SerDes PHY - ECP5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../interface/serdes/lfps.html">SerDes PHY - LFPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../interface/serdes/xc7.html">SerDes PHY - XC7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../stream/index.html">Generator</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">USB</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of USB</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../request.html">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stream.html">Stream</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../usb2/index.html">USB2</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of USB2</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb2/control.html">Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/descriptor.html">Descriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/deserializer.html">Deserializer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/device.html">Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/endpoint.html">Endpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/endpoint.html#gateware-endpoint-interfaces">Gateware Endpoint Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/packet.html">Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/request.html">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/reset.html">Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/transfer.html">Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/endpoints.html">Endpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb2/interfaces.html">Interfaces</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">USB3</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of USB3</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="application.html">Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html">Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="endpoints.html">Endpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="link.html">Link</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Physical</a></li>
<li class="toctree-l4"><a class="reference internal" href="protocol.html">Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="request.html">Request</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/torii-usb/">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/torii-usb/blob/main/CONTRIBUTING.md">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">Licenses</a></li>
</ul>

</div>
<div class="sidebar-tree">
	<p class="caption" role="heading">
		<span class="caption-text">Versions</span>
	</p>
	<ul>
		<li class="toctree-l1"><a class="reference" href="../../../../v0.8.0/gateware/usb/usb3/physical.html">v0.8.0</a></li>
		<li class="toctree-l1"><a class="reference" href="../../../../v0.7.1/gateware/usb/usb3/physical.html">v0.7.1</a></li>
		<li class="toctree-l1"><a class="reference" href="../../../../v0.7.0/gateware/usb/usb3/physical.html">v0.7.0</a></li>
	</ul>
</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/shrine-maiden-heavy-industries/torii-usb/blob/main/docs/gateware/usb/usb3/physical.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/shrine-maiden-heavy-industries/torii-usb/edit/main/docs/gateware/usb/usb3/physical.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-torii_usb.usb.usb3.physical">
<span id="physical"></span><h1>Physical<a class="headerlink" href="#module-torii_usb.usb.usb3.physical" title="Link to this heading">¶</a></h1>
<p>USB3 Physical-Layer modules</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.USB3PhysicalLayer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.</span></span><span class="sig-name descname"><span class="pre">USB3PhysicalLayer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.USB3PhysicalLayer" title="Link to this definition">¶</a></dt>
<dd><p>Abstraction encapsulating the USB3 physical layer hardware.</p>
<p>Performs the lowest-level PHY interfacing, including scrambling/descrambling.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – Data stream accepted from the Link layer; contains raw data to be transmitted.</p></li>
<li><p><strong>source</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – Data stream generated for transit to the Link layer; contains descrambled data accepted from the SerDes.</p></li>
<li><p><strong>enable_scrambling</strong> (<em>Signal(), input</em>) – When asserted, scrambling/descrambling will be enabled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="module-torii_usb.usb.usb3.physical.alignment">
<span id="alignment"></span><h2>Alignment<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.alignment" title="Link to this heading">¶</a></h2>
<p>Code for USB3 physical-layer encoding.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.alignment.RxWordAligner">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.alignment.</span></span><span class="sig-name descname"><span class="pre">RxWordAligner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.alignment.RxWordAligner" title="Link to this definition">¶</a></dt>
<dd><p>Receiver word alignment.</p>
<p>Uses the location of COM signals in the data stream to re-position data so that the
relevant commas always fall in the data’s LSB (little endian).</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.alignment.RxWordAligner.word_meets_alignment_criteria">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">word_meets_alignment_criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctrl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.alignment.RxWordAligner.word_meets_alignment_criteria" title="Link to this definition">¶</a></dt>
<dd><p>Returns true iff the given data and control appear to be correctly aligned.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.alignment.RxPacketAligner">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.alignment.</span></span><span class="sig-name descname"><span class="pre">RxPacketAligner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.alignment.RxPacketAligner" title="Link to this definition">¶</a></dt>
<dd><p>Receiver word re-alignment.</p>
<p>Intended to perform a post-descramble (re)-alignment to ensure that we remain aligned to words
even if the other side does not maintain word alignment. Many links will work without this; but
the USB3 specification does not guarantee that word-alignment will always be maintained.</p>
<p>This unit corrects alignment if the link does not maintain this property.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.alignment.RxPacketAligner.word_meets_alignment_criteria">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">word_meets_alignment_criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctrl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.alignment.RxPacketAligner.word_meets_alignment_criteria" title="Link to this definition">¶</a></dt>
<dd><p>Returns true iff the given data and control appear to be correctly aligned.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.coding">
<span id="coding"></span><h2>Coding<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.coding" title="Link to this heading">¶</a></h2>
<p>Code for USB3 physical-layer encoding.</p>
<dl class="py function">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.K">
<span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">K</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.K" title="Link to this definition">¶</a></dt>
<dd><p>Converts K/control codes to bytes</p>
<p>Does not result in 8b10b data; requires explicit encoding.
See the USB3 / PCIe specifications for more information.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.D">
<span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.D" title="Link to this definition">¶</a></dt>
<dd><p>Converts D/data codes to bytes.</p>
<p>Does not result in 8b10b data; requires explicit encoding.
See the USB3 / PCIe specifications for more information.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.NamedSymbol">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">NamedSymbol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol" title="Link to this definition">¶</a></dt>
<dd><p>Simple encapsulation of a USB3 symbol, with simple metadata.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.NamedSymbol.value_const">
<span class="sig-name descname"><span class="pre">value_const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol.value_const" title="Link to this definition">¶</a></dt>
<dd><p>Returns this symbol’s data value as an Torii const.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.NamedSymbol.ctrl_const">
<span class="sig-name descname"><span class="pre">ctrl_const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol.ctrl_const" title="Link to this definition">¶</a></dt>
<dd><p>Returns this symbol’s ctrl value as an Torii const.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.get_word_for_symbols">
<span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">get_word_for_symbols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">target_symbols</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.get_word_for_symbols" title="Link to this definition">¶</a></dt>
<dd><p>Returns a pair of Torii constants containing the data and ctrl values for the given symbols.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.stream_matches_symbols">
<span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">stream_matches_symbols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">target_symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_ready</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.stream_matches_symbols" title="Link to this definition">¶</a></dt>
<dd><p>Returns an Torii conditional that evaluates true when a stream contains the given four symbols.</p>
<dl class="simple">
<dt>Notes:</dt><dd><ul class="simple">
<li><p>The given conditional evaluates to False when <code class="docutils literal notranslate"><span class="pre">stream.valid</span></code> is falsey.</p></li>
<li><p>Assumes the stream is little endian, so the bytes of the stream would read SYM3 SYM2 SYM1 SYM0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.coding.stream_word_matches_symbol">
<span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.coding.</span></span><span class="sig-name descname"><span class="pre">stream_word_matches_symbol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_number</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.coding.stream_word_matches_symbol" title="Link to this definition">¶</a></dt>
<dd><p>Returns an Torii conditional that evaluates true if the given word of a stream matches the given symbol.</p>
</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.ctc">
<span id="ctc"></span><h2>CTC<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.ctc" title="Link to this heading">¶</a></h2>
<p>Code for handling SKP ordered sets on the transmit and receive path.</p>
<p>SKP ordered sets are provided in order to give some “padding data” that can be removed
in order to handle differences in transmitter/receiver clock rates – a process called
“clock tolerance compensation” (CTC). The actual insertion and removal of SKP ordered sets
for CTC is handled by the PHY – but it only adds and removes sets where it needs to to
compensate for clock differences.</p>
<p>It’s up to us to insert and remove additional ordered sets.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.ctc.CTCSkipRemover">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.ctc.</span></span><span class="sig-name descname"><span class="pre">CTCSkipRemover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.ctc.CTCSkipRemover" title="Link to this definition">¶</a></dt>
<dd><p>Clock Tolerance Compensation (CTC) receive buffer gateware.</p>
<p>It’s functionally impossible to precisely synchronize the clocks for two independent
systems – every specification has to allow for some difference in frequency between
the system’s clocks (the “clock tolerance”)</p>
<p>To compensate, high speed serial protocols inject ‘filler’ bytes called “SKP ordered sets”,
which can be safely discarded. This allows the slower clock to catch up to the faster one.
[USB 3.2r1: 6.4.3].</p>
<p>Our PHY handles the core clock tolerance compensation inside of its own clock domain; removing
these filler sets whenever removing them helps to keep the receiver and transmitter’s clocks in sync.
This leaves behind the sets whose removal would not directly help with CTC.</p>
<p>This module removes those leftovers before data leaves the physical layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – The stream from which SKP ordered sets should be removed.</p></li>
<li><p><strong>source</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – The relevant stream with SKP ordered sets removed. Note that past this point,
<code class="docutils literal notranslate"><span class="pre">stream.valid</span></code> can and will sometimes be false.</p></li>
<li><p><strong>skip_removed</strong> (<em>Signal(), output</em>) – Strobe that indicates that a SKP ordered set was removed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.ctc.CTCSkipInserter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.ctc.</span></span><span class="sig-name descname"><span class="pre">CTCSkipInserter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.ctc.CTCSkipInserter" title="Link to this definition">¶</a></dt>
<dd><p>Clock Tolerance Compensation (CTC) Skip insertion gateware.</p>
<p>See the <code class="docutils literal notranslate"><span class="pre">CTCSkipRemover</span></code> for a description of CTC and its general operation.</p>
<p>Our PHY handles the core clock tolerance compensation inside of its own clock domain; adding
Skip sets whenever adding them helps to keep the transmitter’s elastic buffer from running low
on data. However, we still need to add in our own Skip ordered sets so the other side of the link
has enough to perform its own CTC adjustments.</p>
<p>This module adds ordered sets, per the USB standard.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – The stream into which SKP ordered sets should be inserted.</p></li>
<li><p><strong>source</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – The relevant stream with SKP ordered sets inserted.</p></li>
<li><p><strong>can_send_skip</strong> (<em>Signal(), input</em>) – Controls when SKPs can be inserted. This should be asserted when we’re transmitting
logical idle.</p></li>
<li><p><strong>sending_skip</strong> (<em>Signal(), output</em>) – Indicates that we’re currently sending only SKP characters; and thus our scrambler
should not advance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.layer">
<span id="layer"></span><h2>Layer<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.layer" title="Link to this heading">¶</a></h2>
<p>USB3 physical-layer abstraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.layer.USB3PhysicalLayer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.layer.</span></span><span class="sig-name descname"><span class="pre">USB3PhysicalLayer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.layer.USB3PhysicalLayer" title="Link to this definition">¶</a></dt>
<dd><p>Abstraction encapsulating the USB3 physical layer hardware.</p>
<p>Performs the lowest-level PHY interfacing, including scrambling/descrambling.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – Data stream accepted from the Link layer; contains raw data to be transmitted.</p></li>
<li><p><strong>source</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – Data stream generated for transit to the Link layer; contains descrambled data accepted from the SerDes.</p></li>
<li><p><strong>enable_scrambling</strong> (<em>Signal(), input</em>) – When asserted, scrambling/descrambling will be enabled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.lfps">
<span id="lfps"></span><h2>LFPS<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.lfps" title="Link to this heading">¶</a></h2>
<p>Low-frequency periodic signaling gateware.</p>
<p>LFPS is the first signaling to happen during the initialization of the USB3.0 link.</p>
<p>LFPS allows partners to exchange Out Of Band (OOB) controls/commands and consists of bursts where
a ‘slow’ clock is generated (between 10M-50MHz) for a specific duration and with a specific repeat
period. After the burst, the transceiver is put in electrical idle mode (same electrical level on
P/N pairs while in nominal mode P/N pairs always have an opposite level):</p>
<p>Transceiver level/mode: _ = 0, - = 1 x = electrical idle
<a href="#id1"><span class="problematic" id="id2">|-_-_-_-xxxxxxxxxxxxxxxxxxxx|</span></a>-_-_-_-xxxxxxxxxxxxxxxxxxxx|…
<a href="#id3"><span class="problematic" id="id4">|&lt;burst&gt;                    |&lt;burst&gt;                    |...
|&lt;-----repeat period-------&gt;|&lt;-----repeat period-------&gt;|</span></a>…</p>
<p>A LFPS pattern is identified by a burst duration and repeat period.</p>
<p>To be able generate and receive LFPS, a transceiver needs to be able put its TX in electrical idle
and to detect RX electrical idle.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.lfps.LFPSTransceiver">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.lfps.</span></span><span class="sig-name descname"><span class="pre">LFPSTransceiver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.lfps.LFPSTransceiver" title="Link to this definition">¶</a></dt>
<dd><p>Low-Frequency Periodic Signaling (LFPS) Transceiver</p>
<p>Transmits and receives the LPFS sequences required for a USB 3.0 link.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>drive_electrical_idle</strong> (<em>Signal(), output</em>) – Held high when our PHY should be either in Electrical Idle, or transmit LFPS waveforms.</p></li>
<li><p><strong>send_signaling</strong> (<em>Signal(), output</em>) – Held high when our PHY should be transmitting LFPS square waves.</p></li>
<li><p><strong>signaling_received</strong> (<em>Signal(), input</em>) – Should be asserted when our PHY is receiving LFPS square waves.</p></li>
<li><p><strong>send_polling</strong> (<em>Signal(), input</em>) – Strobe. When asserted, begins Polling LFPS.</p></li>
<li><p><strong>cycles_sent</strong> (<em>Signal(16), output</em>) – Incremented every time an LFPS cycle is completed.</p></li>
<li><p><strong>polling_detected</strong> (<em>Signal(), output</em>) – Strobes high when Polling LFPS is detected.</p></li>
<li><p><strong>reset_detected</strong> (<em>Signal(), output</em>) – Strobes high when Reset LFPS is detected.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.power">
<span id="power"></span><h2>Power<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.power" title="Link to this heading">¶</a></h2>
<p>USB3 physical-layer abstraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.power.PHYResetController">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.power.</span></span><span class="sig-name descname"><span class="pre">PHYResetController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.power.PHYResetController" title="Link to this definition">¶</a></dt>
<dd><p>Gateware responsible for bringing up a PIPE PHY.</p>
<p>Note that this gateware resides in <cite>sync</cite>, rather than one of our
SuperSpeed domains, as the SuperSpeed PHY has yet to bring up its clocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reset</strong> (<em>Signal(), output</em>) – Signal that drives the PHY’s <code class="docutils literal notranslate"><span class="pre">reset</span></code> signal.</p></li>
<li><p><strong>phy_status</strong> (<em>Signal(), input</em>) – The PIPE PHY’s phy_status signal; tracks our progress in startup.</p></li>
<li><p><strong>ready</strong> (<em>Signal(), output</em>) – Status signal; asserted when the PHY has started up and is ready for use.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sync_frequency</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The frequency of the sync clock domain.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.power.LinkPartnerDetector">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.power.</span></span><span class="sig-name descname"><span class="pre">LinkPartnerDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.power.LinkPartnerDetector" title="Link to this definition">¶</a></dt>
<dd><p>Light abstraction over our PIPE receiver detection mechanism.</p>
<p>Primarily responsible for the power state sequencing necessary during receiver detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request_detection</strong> (<em>Signal(), input</em>) – Strobe; requests that a receiver detection will be performed.</p></li>
<li><p><strong>power_state</strong> (<em>Signal(2), output</em>) – Controls the PHY’s power state signals.</p></li>
<li><p><strong>detection_control</strong> (<em>Signal(), output</em>) – Controls the PHY’s partner detection signal.</p></li>
<li><p><strong>phy_status</strong> (<em>Signal(), input</em>) – Status signal; asserted when the PHY has completed our request.</p></li>
<li><p><strong>rx_status</strong> (<em>Signal(3), input</em>) – Status signal; indicates the result of our request.</p></li>
<li><p><strong>new_result</strong> (<em>Signal(), output</em>) – Strobe; indicates when a new result is ready on :attr:<code class="docutils literal notranslate"><span class="pre">partner_present</span></code>.</p></li>
<li><p><strong>partner_present</strong> (<em>Signal(), output</em>) – High iff a partner was detected during the last detection cycle.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rx_status</strong> (<em>Array</em><em>(</em><em>Signal</em><em>(</em><em>3</em><em>)</em><em>, </em><em>Signal</em><em>(</em><em>3</em><em>)</em><em>)</em>) – Read-only view of the PHY’s rx_status signal.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-torii_usb.usb.usb3.physical.scrambling">
<span id="scrambling"></span><h2>Scrambling<a class="headerlink" href="#module-torii_usb.usb.usb3.physical.scrambling" title="Link to this heading">¶</a></h2>
<p>Scrambling and descrambling for USB3.</p>
<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.scrambling.ScramblerLFSR">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.scrambling.</span></span><span class="sig-name descname"><span class="pre">ScramblerLFSR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.scrambling.ScramblerLFSR" title="Link to this definition">¶</a></dt>
<dd><p>Scrambler LFSR.</p>
<p>Linear feedback shift register used for USB3 scrambling.
Polynomial: X^16 + X^5 + X^4 + X^3 + 1</p>
<p>See [USB3.2: Appendix B]</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clear</strong> (<em>Signal(), input</em>) – Strobe; when high, resets the LFSR to its initial value.</p></li>
<li><p><strong>advance</strong> (<em>Signal(), input</em>) – Strobe; when high, the LFSR advances on each clock cycle.</p></li>
<li><p><strong>value</strong> (<em>Signal(32), output</em>) – The current value of the LFSR.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>initial_value</strong> (<em>32-bit int</em><em>, </em><em>optional</em>) – The initial value for the LFSR. Optional; defaults to all 1’s, per the USB3 spec. (default: <code class="docutils literal notranslate"><span class="pre">65535</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.scrambling.Scrambler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.scrambling.</span></span><span class="sig-name descname"><span class="pre">Scrambler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.scrambling.Scrambler" title="Link to this definition">¶</a></dt>
<dd><p>USB3-compliant data scrambler.</p>
<p>Scrambles the transmitted data stream to reduce EMI.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clear</strong> (<em>Signal(), input</em>) – Strobe; when high, resets the scrambler to the start of its sequence.</p></li>
<li><p><strong>enable</strong> (<em>Signal(), input</em>) – When high, data scrambling is enabled. When low, data is passed through without scrambling.</p></li>
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – The stream containing data to be scrambled.</p></li>
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – The stream containing data the scrambled output.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>initial_value</strong> (<em>32-bit int</em><em>, </em><em>optional</em>) – The initial value for the LFSR. Optional. (default: <code class="docutils literal notranslate"><span class="pre">32189</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii_usb.usb.usb3.physical.scrambling.Descrambler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii_usb.usb.usb3.physical.scrambling.</span></span><span class="sig-name descname"><span class="pre">Descrambler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii_usb.usb.usb3.physical.scrambling.Descrambler" title="Link to this definition">¶</a></dt>
<dd><p>USB3-compliant data descrambler.</p>
<p>This module descrambles the received data stream. K-codes are not affected.
This module automatically resets itself whenever a COM alignment character is seen.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<em>Signal(), input</em>) – When high, data scrambling is enabled. When low, data is passed through without scrambling.</p></li>
<li><p><strong>sink</strong> (<em>USBRawSuperSpeedStream(), input stream</em>) – The stream containing data to be descrambled.</p></li>
<li><p><strong>source</strong> (<em>USBRawSuperSpeedStream(), output stream</em>) – The stream containing data the descrambled output.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>initial_value</strong> (<em>32-bit int</em><em>, </em><em>optional</em>) – The initial value for the LFSR. Optional. (default: <code class="docutils literal notranslate"><span class="pre">65535</span></code>)</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="protocol.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Protocol</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="link.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Link</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Shrine Maiden Heavy Industries
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Physical</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.USB3PhysicalLayer"><code class="docutils literal notranslate"><span class="pre">USB3PhysicalLayer</span></code></a></li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.alignment">Alignment</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.alignment.RxWordAligner"><code class="docutils literal notranslate"><span class="pre">RxWordAligner</span></code></a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.alignment.RxWordAligner.word_meets_alignment_criteria"><code class="docutils literal notranslate"><span class="pre">RxWordAligner.word_meets_alignment_criteria()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.alignment.RxPacketAligner"><code class="docutils literal notranslate"><span class="pre">RxPacketAligner</span></code></a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.alignment.RxPacketAligner.word_meets_alignment_criteria"><code class="docutils literal notranslate"><span class="pre">RxPacketAligner.word_meets_alignment_criteria()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.coding">Coding</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.K"><code class="docutils literal notranslate"><span class="pre">K()</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.D"><code class="docutils literal notranslate"><span class="pre">D()</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol"><code class="docutils literal notranslate"><span class="pre">NamedSymbol</span></code></a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol.value_const"><code class="docutils literal notranslate"><span class="pre">NamedSymbol.value_const()</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.NamedSymbol.ctrl_const"><code class="docutils literal notranslate"><span class="pre">NamedSymbol.ctrl_const()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.get_word_for_symbols"><code class="docutils literal notranslate"><span class="pre">get_word_for_symbols()</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.stream_matches_symbols"><code class="docutils literal notranslate"><span class="pre">stream_matches_symbols()</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.coding.stream_word_matches_symbol"><code class="docutils literal notranslate"><span class="pre">stream_word_matches_symbol()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.ctc">CTC</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.ctc.CTCSkipRemover"><code class="docutils literal notranslate"><span class="pre">CTCSkipRemover</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.ctc.CTCSkipInserter"><code class="docutils literal notranslate"><span class="pre">CTCSkipInserter</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.layer">Layer</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.layer.USB3PhysicalLayer"><code class="docutils literal notranslate"><span class="pre">USB3PhysicalLayer</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.lfps">LFPS</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.lfps.LFPSTransceiver"><code class="docutils literal notranslate"><span class="pre">LFPSTransceiver</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.power">Power</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.power.PHYResetController"><code class="docutils literal notranslate"><span class="pre">PHYResetController</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.power.LinkPartnerDetector"><code class="docutils literal notranslate"><span class="pre">LinkPartnerDetector</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torii_usb.usb.usb3.physical.scrambling">Scrambling</a><ul>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.scrambling.ScramblerLFSR"><code class="docutils literal notranslate"><span class="pre">ScramblerLFSR</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.scrambling.Scrambler"><code class="docutils literal notranslate"><span class="pre">Scrambler</span></code></a></li>
<li><a class="reference internal" href="#torii_usb.usb.usb3.physical.scrambling.Descrambler"><code class="docutils literal notranslate"><span class="pre">Descrambler</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=b57b77c3"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    </body>
</html>